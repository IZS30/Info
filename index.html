<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Infos</title>
  <style>
    body { font-family: Arial, sans-serif; background:#f8f8f8; margin:0; padding:20px; }
    .topic-box { background:white; padding:15px; border-radius:10px; margin-bottom:10px; cursor:pointer; border:1px solid #ddd; }
    .topic-box:hover { background:#eef; }

    /* Modal */
    #modal { display:none; position:fixed; inset:0; background:rgba(0,0,0,0.5); 
             align-items:center; justify-content:center; }
    #modalContentBox {
      background:white; padding:20px; border-radius:10px; width:90%; max-width:450px;
      max-height:80vh; overflow-y:auto; line-height:1.6;
    }
    #closeBtn { float:right; cursor:pointer; font-size:20px; }
  </style>
</head>
<body>

<h2>Informationen</h2>
<button onclick="toggleLanguage()">Sprache wechseln</button>

<div id="topics"></div>

<!-- MODAL -->
<div id="modal" onclick="closeModal(event)">
  <div id="modalContentBox">
    <span id="closeBtn" onclick="closeModal(event)">&times;</span>
    <div id="modal-content"></div>
  </div>
</div>

<script>
// -------------------------
// THEMENLISTE
// -------------------------
const topicsData = [
  { 
    id:1,
    deTitle:"Islamische Eheschließung (Nikah)",
    arTitle:"الزواج الإسلامي (النكاح)",
    deInfo:"Unterlagen: Erweiterte Meldebescheinigung vom Rathaus, Kopie der Ausweise beider Partner.<br><br>Terminbuchung über diesen QR-Code:<br><img src='https://raw.githubusercontent.com/IZS30/Info/main/assets/Bild%20AB%2014.png' width='150' />",
    arInfo:"الوثائق المطلوبة: شهادة سكن موسعة من البلدية، نسخ من بطاقات هوية الزوجين.<br><br>لحجز موعد، امسح رمز الـ QR التالي:<br><img src='https://raw.githubusercontent.com/IZS30/Info/main/assets/Bild%20AB%2014.png' width='150' />"
  },
  { 
    id:2,
    deTitle:"Arabisch lernen für Kinder anmelden",
    arTitle:"تسجيل الأطفال في دروس اللغة العربية",
    deInfo:"Anmeldung erfolgt direkt im Büro der Moschee oder per Formular.",
    arInfo:"يتم التسجيل مباشرة في مكتب المسجد أو عبر الاستمارة."
  },
  { 
    id:3,
    deTitle:"Quran lernen für Kinder anmelden",
    arTitle:"تسجيل الأطفال في دروس القرآن الكريم",
    deInfo:"Unterricht findet wöchentlich statt. Anmeldung vor Ort.",
    arInfo:"الدروس أسبوعية. التسجيل يتم في المسجد."
  },
  { 
    id:4,
    deTitle:"Vorträge des Imams",
    arTitle:"محاضرات الإمام",
    deInfo:"Jeden Sonntag nach Salat al-Asr.",
    arInfo:"كل يوم أحد بعد صلاة العصر."
  },
  { 
    id:5,
    deTitle:"Fragen über Islamologie",
    arTitle:"أسئلة حول الدراسات الإسلامية",
    deInfo:"Fragen können telefonisch an den Imam gestellt werden oder per E-Mail an: info@iz-stuttgart.de",
    arInfo:"يمكن طرح الأسئلة على الإمام هاتفيًا أو عبر البريد الإلكتروني: info@iz-stuttgart.de"
  }
];

// -------------------------
// SPRACHE
// -------------------------
let currentLang = "de";

function toggleLanguage() {
  currentLang = currentLang === "de" ? "ar" : "de";
  renderTopics();
}

// -------------------------
// THEMEN LADEN
// -------------------------
function renderTopics() {
  const container = document.getElementById("topics");
  container.innerHTML = "";

  topicsData.forEach(topic => {
    const box = document.createElement("div");
    box.className = "topic-box";
    box.textContent = currentLang === "de" ? topic.deTitle : topic.arTitle;
    box.onclick = () => openModal(topic);
    container.appendChild(box);
  });
}

// -------------------------
// MODAL
// -------------------------
function openModal(topic) {
  const modal = document.getElementById("modal");
  const modalContent = document.getElementById("modal-content");

  // HTML DIREKT EINSETZEN (WICHTIG!)
  if (currentLang === "ar") {
    modalContent.innerHTML = `<div dir="rtl">${topic.arInfo}</div>`;
  } else {
    modalContent.innerHTML = `<div>${topic.deInfo}</div>`;
  }

  modal.style.display = "flex";
}

function closeModal(e) {
  if (e.target.id === "modal" || e.target.id === "closeBtn") {
    document.getElementById("modal").style.display = "none";
  }
}

// -------------------------
// START
// -------------------------
renderTopics();
</script>

</body>
</html>
