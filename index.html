<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Hilfe-Portal — DE / AR</title>

  <style>
    :root{
      --bg-black:#000;
      --accent-green:#0f3d2e;
      --white: #fff;
      --border-black:#000;
    }

    html,body{
      height:100%;
      margin:0;
      overflow:hidden; /* verhindert Verschieben beim Rotieren */
      background:black;
    }

    body {
      -webkit-text-size-adjust: 100%;
      touch-action: manipulation;
    }

    /* ROTATION WRAPPER */
    #rotateWrap {
      width:100vw;
      height:100vh;
      display:flex;
      align-items:center;
      justify-content:center;
      transform-origin:center center;
      transition: transform 0.4s ease, width 0s, height 0s;
      overflow:hidden;
    }

    /* ==== DEIN ORIGINALER STYLE BEGINNT AB HIER ==== */

    body, html {
      font-family: system-ui,-apple-system,Segoe UI,Roboto,Arial;
    }

    body{
      background-color:var(--bg-black);
      background-image:
        radial-gradient(rgba(255,255,255,0.95) 1px, transparent 1px),
        radial-gradient(rgba(255,255,255,0.6) 0.6px, transparent 0.6px);
      background-size:20px 20px, 40px 40px;
      background-position: 0 0, 10px 20px;
      color:var(--white);
      -webkit-font-smoothing:antialiased;
    }

    .center {
      min-height:100%;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:24px;
      flex-direction:column;
      text-align:center;
      box-sizing:border-box;
    }

    h1.title{
      font-size:clamp(28px,6vw,56px);
      margin:0 0 18px 0;
      text-shadow: 0 6px 18px rgba(0,0,0,0.6);
    }

    .cta-block{max-width:760px;width:100%;}

    .cta {
      display:flex;
      gap:18px;
      align-items:center;
      justify-content:center;
      margin:18px 0;
      flex-direction:column;
    }

    .btn-circle{
      width:120px;
      height:120px;
      border-radius:999px;
      display:flex;
      align-items:center;
      justify-content:center;
      background:var(--accent-green);
      color:white;
      border:3px solid black;
      cursor:pointer;
      font-weight:600;
      transition:transform .15s ease;
    }

    .topics-wrap{
      width:100%;
      max-width:760px;
      height:460px;
      position:relative;
      display:flex;
      align-items:center;
      justify-content:center;
    }

    .topic-circle{
      position:absolute;
      width:120px;
      height:120px;
      border-radius:999px;
      display:flex;
      align-items:center;
      justify-content:center;
      text-align:center;
      padding:10px;
      background:var(--accent-green);
      border:3px solid black;
      color:white;
      font-weight:600;
      cursor:pointer;
      transition:transform .15s ease;
    }

    .topbar{
      width:100%;
      max-width:760px;
      display:flex;
      justify-content:space-between;
      align-items:center;
      margin-bottom:14px;
      padding:0 6px;
    }

    .modal-overlay{
      position:fixed;
      inset:0;
      display:none;
      align-items:center;
      justify-content:center;
      background:rgba(0,0,0,0.6);
      z-index:1000;
    }

    .modal{
      width:100%;
      max-width:720px;
      padding:20px;
      border-radius:16px;
      background:var(--accent-green);
      border:3px solid black;
      color:white;
      transform:scale(.98);
      opacity:0;
      transition:all .2s ease;
    }

    .modal.open{
      transform:scale(1);
      opacity:1;
    }

    #modalContent img{
      display:block;
      margin:12px auto;
      max-width:80%;
      height:auto;
    }
  </style>

</head>

<body>

<div id="rotateWrap">

<main id="app" class="center" aria-live="polite">

  <!-- HOME -->
  <section id="homeView" class="center" style="display:flex;">
    <div class="cta-block">
      <h1 class="title">Brauchst du Hilfe?</h1>

      <div class="cta">
        <p>Brauchst du Hilfe auf <strong>Deutsch</strong>? – hier klicken</p>
        <button id="btn-de" class="btn-circle">hier klicken</button>
      </div>

      <div class="cta" dir="rtl">
        <p>هل تحتاج إلى مساعدة باللغة العربية؟ — اضغط هنا</p>
        <button id="btn-ar" class="btn-circle">اضغط هنا</button>
      </div>
    </div>

    <footer>© <span id="year"></span> – Hilfe-Portal</footer>
  </section>

  <!-- THEMEN -->
  <section id="topicsView" style="display:none;width:100%;max-width:980px;">
    <div class="topbar">
      <button id="backBtn" class="link-back">← Zurück</button>
      <h2 id="topicsTitle"></h2>
      <div style="width:48px;"></div>
    </div>

    <div class="topics-wrap" id="topicsWrap"></div>

    <footer style="text-align:center;color:rgba(255,255,255,0.6);font-size:13px;">
      Wähle ein Thema, um mehr zu erfahren
    </footer>
  </section>

</main>

</div> <!-- rotateWrap END -->

<!-- MODAL -->
<div id="modalOverlay" class="modal-overlay">
  <div id="modalBox" class="modal">
    <button id="closeModal" class="modal-close">✕</button>
    <h3 id="modalTitle"></h3>
    <div id="modalContent"></div>
  </div>
</div>

<script>
const topics = [
  {
    id:1,
    deTitle:"Islamische Eheschließung (Nikah)",
    arTitle:"الزواج الإسلامي (النكاح)",
    deInfo:"Unterlagen: Erweiterte Meldebescheinigung.<br><br>Termin:<br><img src='https://raw.githubusercontent.com/IZS30/Info/main/assets/Bild%20AB%2014.png' width='150' />",
    arInfo:"يجب إحضار شهادة السكن ونسخ بطاقات الهوية."
  }
];

const homeView = document.getElementById('homeView');
const topicsView = document.getElementById('topicsView');
const topicsWrap = document.getElementById('topicsWrap');
const topicsTitle = document.getElementById('topicsTitle');
const backBtn = document.getElementById('backBtn');
const btnDe = document.getElementById('btn-de');
const btnAr = document.getElementById('btn-ar');
const modalOverlay = document.getElementById('modalOverlay');
const modalBox = document.getElementById('modalBox');
const modalTitle = document.getElementById('modalTitle');
const modalContent = document.getElementById('modalContent');
const closeModal = document.getElementById('closeModal');

let currentLang = null;
document.getElementById("year").textContent = new Date().getFullYear();

btnDe.onclick = ()=> openTopics("de");
btnAr.onclick = ()=> openTopics("ar");

backBtn.onclick = () => {
  topicsView.style.display = "none";
  homeView.style.display = "flex";
  topicsWrap.innerHTML = "";
  currentLang = null;
  closeModalIfOpen();
};

function openTopics(lang){
  currentLang = lang;
  homeView.style.display = "none";
  topicsView.style.display = "block";

  if(lang==="ar"){
    topicsTitle.textContent = "اختر موضوعاً";
    topicsWrap.dir = "rtl";
  } else {
    topicsTitle.textContent = "Themenübersicht";
    topicsWrap.dir = "ltr";
  }

  renderTopicCircles();
}

function renderTopicCircles(){
  topicsWrap.innerHTML = "";
  const rect = topicsWrap.getBoundingClientRect();
  const centerX = rect.width / 2;
  const centerY = rect.height / 2;
  const radius = Math.min(rect.width, rect.height) * 0.45;

  topics.forEach((t,i)=>{
    const angle = (i / topics.length) * Math.PI*2 - Math.PI/2;
    const x = centerX + radius * Math.cos(angle);
    const y = centerY + radius * Math.sin(angle);

    const btn = document.createElement("button");
    btn.className = "topic-circle";
    btn.style.left = x+"px";
    btn.style.top = y+"px";
    btn.style.transform = "translate(-50%, -50%)";
    btn.innerHTML = currentLang==="ar" ? t.arTitle : t.deTitle;
    btn.onclick = () => openModal(t);

    topicsWrap.appendChild(btn);
  });
}

function openModal(t){
  modalTitle.textContent = currentLang==="ar" ? t.arTitle : t.deTitle;
  modalContent.innerHTML = currentLang==="ar" ? t.arInfo : t.deInfo;
  modalOverlay.style.display = "flex";
  requestAnimationFrame(()=> modalBox.classList.add("open"));
}

function closeModalIfOpen(){
  modalBox.classList.remove("open");
  setTimeout(()=>{
    modalOverlay.style.display = "none";
    modalContent.innerHTML = "";
  },180);
}

closeModal.onclick = closeModalIfOpen;
modalOverlay.onclick = e=>{ if(e.target===modalOverlay) closeModalIfOpen(); };

/* ============================= */
/*   AUTOMATISCHE ROTATION       */
/* ============================= */
function fixViewport(){
  const wrap = document.getElementById("rotateWrap");
  if(!wrap) return;

  const portrait = window.matchMedia("(orientation: portrait)").matches;

  if(portrait){
    wrap.style.transform = "rotate(0deg)";
    wrap.style.width = "100vw";
    wrap.style.height = "100vh";
  } else {
    wrap.style.transform = "rotate(90deg)";
    wrap.style.width = "100vh";
    wrap.style.height = "100vw";
  }

  // immer zentrieren
  wrap.style.display="flex";
  wrap.style.alignItems="center";
  wrap.style.justifyContent="center";
}

window.addEventListener("load", fixViewport);
window.addEventListener("orientationchange", ()=> setTimeout(fixViewport,200));
window.addEventListener("resize", ()=> setTimeout(fixViewport,200));

</script>

</body>
</html>
